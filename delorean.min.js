(function(){if(_.isUndefined(Date.prototype.setISO8601))Date.prototype.setISO8601=function(b){var c,d,b=b.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?"));d=0;c=new Date(b[1],0,1);b[3]&&c.setMonth(b[3]-1);b[5]&&c.setDate(b[5]);b[7]&&c.setHours(b[7]);b[8]&&c.setMinutes(b[8]);b[10]&&c.setSeconds(b[10]);b[12]&&c.setMilliseconds(Number("0."+b[12])*1E3);b[14]&&(d=Number(b[16])*60+Number(b[17]),d*=b[15]==="-"?1:
-1);d-=c.getTimezoneOffset();return this.setTime(Number(Number(c)+d*6E4))};if(_.isUndefined(Date.prototype.toISOString))Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"};if(_.isUndefined(Number.prototype.toPaddedString))Number.prototype.toPaddedString=function(b,c){var d;
d=this.toString(c||10);return"0".times(b-d.length)+d};if(_.isUndefined(Date.prototype.strftime))Date.prototype.strftime=function(){var b,c,d,f,l,g,m,h,e,i,j,n,o,k;f=function(a){return a.getDate()+""};g=function(a){return((a.getTime()-d.start_of_year.getTime())/l+1+"").split(/\./)[0]};e=function(a){e=a.getHours();e===0?e=12:e>12&&(e-=12);return e+""};i=function(a){return a.getHours()};j=function(a){return a.getHours()>=12?"pm":"am"};k=function(a){return a.getFullYear()+""};d={start_of_year:new Date("Jan 1 "+
(new Date).getFullYear())};o=/%([a-z]|%)/g;l=864E5;m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];n=["January","February","March","April","May","June","July","August","September","October","November","December"];b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];h={a:function(a){return b[a.getDay()]},A:function(a){return m[a.getDay()]},b:function(a){return c[a.getMonth()]},B:function(a){return n[a.getMonth()]},
c:function(a){return a.toLocaleString()},d:function(a){return("0"+f(a)).slice(-2)},e:f,H:function(a){return("0"+i(a)).slice(-2)},I:function(a){return("0"+e(a)).slice(-2)},j:g,k:i,l:e,m:function(a){return("0"+(a.getMonth()+1)).slice(-2)},M:function(a){return("0"+a.getMinutes()).slice(-2)},p:function(a){return j(a).toUpperCase()},P:j,S:function(a){return("0"+a.getSeconds()).slice(-2)},U:function(a){return("0"+Math.round(parseInt(g(a),10)/7)).slice(-2)},w:function(a){return a.getDay()+""},x:function(a){return a.toLocaleDateString()},
X:function(a){return a.toLocaleTimeString()},y:function(a){return k(a).slice(-2)},Y:k,z:function(a){a=a.getTimezoneOffset();return(a>=0?"-":"")+("0"+a/60).slice(-2)+":"+("0"+a%60).slice(-2)},"%":function(){return"%"}};return function(a){var b,c;c=a;for(d.start_of_year=new Date("Jan 1 "+this.getFullYear());b=o.exec(a);)b[1]in h&&(c=c.replace(RegExp(b[0],"mg"),h[b[1]](this)));return c}}()}).call(this);
